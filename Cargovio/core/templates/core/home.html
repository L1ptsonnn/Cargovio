{% extends 'core/base.html' %}
{% load static %}

{% block title %}Cargovio — Логістика по всій Європі{% endblock %}

{% block extra_head %}
    <style>
        .hero-section {
            padding: 4rem 0;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
        .map-container {
            width: 100%;
            height: 60vh; /* Зменшимо висоту для кращого балансу */
            min-height: 400px;
            border-radius: 18px;
            box-shadow: 0 8px 40px rgba(0,0,0,0.1);
            border: 2px solid #fff;
            background: #fff;
            position: relative;
            overflow: hidden;
        }
        .display-4 {
            font-weight: 700;
            color: #2c3e50;
        }
        .lead {
            color: #34495e;
        }
        .btn-lg {
            padding: 0.8rem 2rem;
            font-weight: 600;
        }
    </style>
{% endblock %}

{% block content %}
<div class="container hero-section">
    <div class="row align-items-center">
        <div class="col-lg-5 mb-4 mb-lg-0 text-center text-lg-start">
            <h1 class="display-4">Ваша логістика.<br>Просто та надійно.</h1>
            <p class="lead my-4">
                Cargovio об'єднує компанії та перевізників на одній платформі,
                роблячи процес вантажоперевезень прозорим та ефективним.
            </p>
            {% if not user.is_authenticated %}
                <a href="#" class="btn btn-primary btn-lg" data-bs-toggle="modal" data-bs-target="#registerModal">Почати роботу</a>
                <a href="#" class="btn btn-outline-secondary btn-lg" data-bs-toggle="modal" data-bs-target="#loginModal">Увійти</a>
            {% else %}
                <a href="{% url 'users:profile' %}" class="btn btn-primary btn-lg">Перейти до профілю</a>
            {% endif %}
        </div>
        <div class="col-lg-7">
            <div class="map-container">
                 <div id="amcharts-europe-map" style="width: 100%; height: 100%;"></div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
    <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/map.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/geodata/worldLow.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/geodata/region/world/europeLow.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
    <script>
        am5.ready(function() {
            var root = am5.Root.new("amcharts-europe-map");
            root.setThemes([am5themes_Animated.new(root)]);
            var chart = root.container.children.push(am5map.MapChart.new(root, {
                panX: "rotateX",
                panY: "none",
                projection: am5map.geoMercator(),
                homeZoomLevel: 3.5,
                homeGeoPoint: { latitude: 50, longitude: 15 }
            }));
            var polygonSeries = chart.series.push(am5map.MapPolygonSeries.new(root, {
                geoJSON: am5geodata_europeLow
            }));
             polygonSeries.mapPolygons.template.setAll({
                tooltipText: "{name}",
                toggleKey: "active",
                interactive: true,
                fill: am5.color(0xCCCCCC),
                stroke: am5.color(0xFFFFFF),
                strokeWidth: 0.5
            });
            polygonSeries.mapPolygons.template.states.create("hover", {
                fill: am5.color(0x999999)
            });
        });
    </script>
{% endblock %} 